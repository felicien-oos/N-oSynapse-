<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‚ö° Cyberneon Hyperpulse Assistant Vocal 3D ‚ö°</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

  :root {
    --cyan-neon: #00fff7;
    --purple-neon: #a600ff;
    --blue-neon: #00aaff;
    --background-dark: #0b001c;
    --glow: 0 0 10px var(--cyan-neon), 0 0 30px var(--purple-neon);
  }

  * {
    box-sizing: border-box;
  }

  body, html {
    margin: 0; padding: 0; height: 100vh; overflow: hidden;
    background: radial-gradient(circle at center, var(--background-dark) 0%, #000010 100%);
    font-family: 'Orbitron', 'Share Tech Mono', monospace, monospace;
    color: var(--cyan-neon);
    user-select: none;
  }

  #container3d {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: visible;
  }

  /* --- Hologram Panel --- */
  #holoPanel {
    position: absolute;
    top: 3vh; left: 3vw;
    background: rgba(10, 5, 25, 0.3);
    border: 2px solid var(--purple-neon);
    border-radius: 15px;
    width: 320px;
    padding: 18px 22px;
    box-shadow: var(--glow);
    backdrop-filter: blur(10px);
    animation: pulseGlow 3s infinite alternate ease-in-out;
  }

  @keyframes pulseGlow {
    0% {
      box-shadow: 0 0 20px var(--purple-neon), 0 0 50px var(--cyan-neon);
    }
    100% {
      box-shadow: 0 0 40px var(--purple-neon), 0 0 80px var(--cyan-neon);
    }
  }

  #holoPanel strong {
    font-size: 1.4rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    display: block;
    margin-bottom: 10px;
    color: var(--purple-neon);
    text-shadow: 0 0 8px var(--purple-neon);
  }

  #holoPanel p {
    font-size: 0.85rem;
    line-height: 1.3em;
    color: var(--cyan-neon);
  }

  /* --- UI Buttons container --- */
  #ui {
    position: absolute;
    bottom: 4vh;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 18px;
    align-items: center;
    z-index: 10;
  }

  button {
    background: transparent;
    border: 2px solid var(--cyan-neon);
    color: var(--cyan-neon);
    font-size: 1.1rem;
    font-weight: 700;
    border-radius: 25px;
    padding: 14px 28px;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    filter: drop-shadow(0 0 6px var(--cyan-neon));
    transition:
      background-color 0.3s ease,
      color 0.3s ease,
      box-shadow 0.3s ease;
    user-select: none;
  }
  button:hover, button:focus {
    background-color: var(--cyan-neon);
    color: #050505;
    box-shadow:
      0 0 20px var(--cyan-neon),
      0 0 50px var(--purple-neon),
      0 0 80px var(--cyan-neon);
    outline: none;
  }

  #transcript {
    margin-top: 10px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 1.1rem;
    color: var(--purple-neon);
    text-shadow: 0 0 12px var(--purple-neon);
    max-width: 600px;
    min-width: 320px;
    letter-spacing: 0.03em;
    text-align: center;
  }

  /* --- Audio wave animation on speak --- */
  #waveform {
    position: absolute;
    bottom: 20vh;
    left: 50%;
    transform: translateX(-50%);
    width: 400px;
    height: 80px;
  }

  .bar {
    display: inline-block;
    width: 6px;
    height: 60px;
    margin: 0 3px;
    background: var(--cyan-neon);
    border-radius: 3px;
    animation: wavePulse 1.2s infinite ease-in-out;
    transform-origin: bottom center;
  }
  .bar:nth-child(1) { animation-delay: 0s; }
  .bar:nth-child(2) { animation-delay: 0.15s; }
  .bar:nth-child(3) { animation-delay: 0.3s; }
  .bar:nth-child(4) { animation-delay: 0.45s; }
  .bar:nth-child(5) { animation-delay: 0.6s; }
  .bar:nth-child(6) { animation-delay: 0.75s; }
  .bar:nth-child(7) { animation-delay: 0.9s; }
  .bar:nth-child(8) { animation-delay: 1.05s; }

  @keyframes wavePulse {
    0%, 100% { transform: scaleY(0.3); opacity: 0.5; }
    50% { transform: scaleY(1.3); opacity: 1; }
  }

</style>
</head>
<body>

<div id="container3d"></div>

<div id="holoPanel" aria-label="Informations de l'assistant">
  <strong>PROTOCOLE ASSISTANT NEON-3X</strong>
  <p>Bienvenue, op√©rateur. <br/>
  Ce syst√®me respecte vos param√®tres de confidentialit√© et s√©curit√©. <br/>
  Commands valid√©es : <br/>
  - "Activation protocole vocal"<br/>
  - "Organise ma journ√©e"<br/>
  - "Arr√™te l'√©coute"<br/>
  - Questions basiques accept√©es, devoirs complexes refus√©s.<br/>
  Confidentialit√© active : vos donn√©es sont s√©curis√©es. <br/>
  Pour acc√©der au planning, dites "Organise ma journ√©e".</p>
</div>

<div id="ui">
  <button id="btnSpeak" aria-label="Activer reconnaissance vocale">üó£Ô∏è Protocole vocal</button>
  <button id="btnStop" aria-label="D√©sactiver reconnaissance vocale">‚èπÔ∏è Stop vocal</button>
  <button id="btnOrganize" aria-label="Organiser la journ√©e">üìÖ Planning quantique</button>
</div>

<div id="transcript" aria-live="polite" aria-atomic="true">Pr√™t √† recevoir vos commandes, op√©rateur...</div>

<div id="waveform" aria-hidden="true">
  <span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span>
  <span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
<script>
// --- Setup THREE.JS pour avatar holographique ---
let scene, camera, renderer, avatar, clock;

function init3D() {
  scene = new THREE.Scene();
  camera = new THREE.PerspectiveCamera(40, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.set(0, 1.5, 3);

  renderer = new THREE
